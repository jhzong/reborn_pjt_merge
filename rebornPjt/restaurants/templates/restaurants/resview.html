{% extends "base.html" %}
{% comment %} css ì‘ì—…ì€ ì—¬ê¸°ì„œ í•˜ì„¸ìš”!! {% endcomment %}
{% block css %}
<link rel='stylesheet' href="/static/css/resview.css">
{% endblock css %}

{% comment %} script ì‘ì—…ì€ ì—¬ê¸°ì„œ í•˜ì„¸ìš”!! {% endcomment %}
{% block script %}
<link rel='stylesheet' href="/static/js/restaurants.js">
{% endblock script %}

{% comment %} body ì‘ì—…ì€ ì—¬ê¸°ì„œ í•˜ì„¸ìš”!! {% endcomment %}
{% block body %}
<div class="container">

    <!-- ìƒë‹¨ ì´ë¯¸ì§€ ì˜ì—­ -->
    <section class="image-section">
        <div class="image-main">
            <img src="https://picsum.photos/600/400" alt="ëŒ€í‘œ ì´ë¯¸ì§€">
        </div>
        <div class="image-sub">
            <img src="https://picsum.photos/200/130?1">
            <img src="https://picsum.photos/200/130?2">
            <img src="https://picsum.photos/200/130?3">
        </div>
    </section>
    
    <!-- ë©”ì¸ ì •ë³´ -->
    <section class="content-section">
        <!-- ì™¼ìª½ -->
        <div class="left">
            <h1 class="restaurant-name">{{view.res_name}}</h1>
            
            <p class="description">
                {{view.desc}}
            </p>
            
            <h2>ë©”ë‰´</h2>
            <!-- ë©”ë‰´ ì •ë³´ë¥¼ Djangoì—ì„œ ì „ë‹¬ë°›ì•„ í‘œì‹œ -->
            <ul class="menu-list">
                {% for m in menu %}
                <li>
                    <span>{{m.fnm}}</span>
                    <span>â‚©{{m.price}}</span>
                </li>
                {% empty %}
                <li>ë“±ë¡ëœ ë©”ë‰´ê°€ ì—†ìŠµë‹ˆë‹¤.</li>
                {% endfor %}
            </ul>
            
            <h2>ìœ„ì¹˜</h2>
            <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=5e70fd27e706e2059836a7360cd4a693"></script>
            <div class="map" id="map" style="width:100%; height:350px;"></div>
            <script>
                var mapContainer = document.getElementById('map'), // ì§€ë„ë¥¼ í‘œì‹œí•  div 
                    mapOption = { 
                        center: new kakao.maps.LatLng({{view.lat|floatformat:7}}, {{view.lng|floatformat:7}}), // ì§€ë„ì˜ ì¤‘ì‹¬ì¢Œí‘œ
                        level: 3 // ì§€ë„ì˜ í™•ëŒ€ ë ˆë²¨
                    };

                var map = new kakao.maps.Map(mapContainer, mapOption); // ì§€ë„ë¥¼ ìƒì„±í•©ë‹ˆë‹¤

                // ë§ˆì»¤ê°€ í‘œì‹œë  ìœ„ì¹˜ì…ë‹ˆë‹¤ 
                var markerPosition  = new kakao.maps.LatLng({{view.lat|floatformat:7}}, {{view.lng|floatformat:7}}); 

                // ë§ˆì»¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
                var marker = new kakao.maps.Marker({
                    position: markerPosition
                });

                // ë§ˆì»¤ê°€ ì§€ë„ ìœ„ì— í‘œì‹œë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤
                marker.setMap(map);

                // ì•„ë˜ ì½”ë“œëŠ” ì§€ë„ ìœ„ì˜ ë§ˆì»¤ë¥¼ ì œê±°í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤
                // marker.setMap(null);    
            </script>
            
        </div>

        <!-- ì˜¤ë¥¸ìª½ -->
        <div class="right">
            <div class="info-box">
                <p><strong>ğŸ“ ì£¼ì†Œ</strong><br>{{view.addr}}</p>
                <p><strong>ğŸ“ ì „í™”</strong><br>{{view.tel}}</p>
                <!-- ì˜ì—…ì‹œê°„ ì •ë³´ë¥¼ Djangoì—ì„œ ì „ë‹¬ë°›ì•„ í‘œì‹œ -->
                <p><strong>â° ì˜ì—…ì‹œê°„</strong><br>
                    {% for op in oper_time %}
                        {{ op.week }} : {{ op.open_time }} ~ {{ op.close_time }}<br>
                    {% empty %}
                        ì˜ì—…ì‹œê°„ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.
                    {% endfor %}
                </p>
                <div class="button-group">
                    <button class="reserve-btn">ì˜ˆì•½í•˜ê¸°</button>
                    <button class="review-btn">í›„ê¸°ì‘ì„±</button>
                </div>
            </div>
        </div>
    </section>

</div>

<!-- ë’¤ë¡œê°€ê¸° ë²„íŠ¼ -->
<div class="back-button-wrapper">
    <button class="back-btn" onclick="history.back()">ë’¤ë¡œê°€ê¸°</button>
</div>
{% endblock body %}